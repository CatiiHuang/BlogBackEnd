webpackJsonp([3],{"0GCd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("nwBL"),s=i("oDt3"),n=i.n(s),o={mixins:[a.e],data:function(){return{nickName:null,avatar:null,name:null,token:null,imgDefault:n.a}},created:function(){this.nickName=localStorage.getItem("nickName"),this.avatar=localStorage.getItem("avatar"),this.name=localStorage.getItem("user_name"),this.token=localStorage.getItem("token")},methods:{upLoad:function(t){var e=this,i=t.target.files||t.dataTransfer.files;if(i.length)if(i[0].type.indexOf("png")>-1||i[0].type.indexOf("jpg")>-1||i[0].type.indexOf("jpeg")>-1)if(i[0].size<2e6){"undefined"==typeof FileReader&&alert("您的浏览器不支持图片上传，请升级您的浏览器");var s=new FileReader;s.readAsDataURL(i[0]),s.onload=function(t){var i=new Image;i.src=t.target.result,i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var t=Object(a.g)(i);e.avatar=t}}}else alert("请上传2M以内的图片");else alert("请上传JPG/PNG格式的图片")},save:function(){this.$axios.post(a.h+"admin/updateUser",{name:this.name,token:this.token,nickName:this.nickName,avatar:this.avatar}).then(function(t){alert(t.data.msg),1==t.data.status&&(localStorage.setItem("nickName",t.data.nickName),localStorage.setItem("avatar",t.data.avatar))}).catch(function(t){console.log(t)})},signOut:function(){var t=this;this.$axios.post(a.h+"admin/signOut",{name:this.name,token:this.token}).then(function(e){alert(e.data.msg),1==e.data.status&&(t.$store.commit("changeIsSignIn",0),t.$store.commit("changeIndex","1"),localStorage.clear(),t.$router.replace({name:"home"}))}).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"content"},[i("el-row",{staticClass:"row"},[i("el-col",{attrs:{xs:4,sm:6,md:6,lg:6,xl:6}},[i("p",{staticClass:"label"},[t._v("昵称：")])]),t._v(" "),i("el-col",{attrs:{xs:20,sm:18,md:18,lg:18,xl:18}},[i("el-input",{staticClass:"input",attrs:{placeholder:"请输入昵称"},model:{value:t.nickName,callback:function(e){t.nickName=e},expression:"nickName"}})],1)],1),t._v(" "),i("el-row",{staticClass:"row"},[i("el-col",{attrs:{xs:4,sm:6,md:6,lg:6,xl:6}},[i("p",{staticClass:"label"},[t._v("头像：")])]),t._v(" "),i("el-col",{attrs:{xs:20,sm:18,md:18,lg:18,xl:18}},[i("label",{attrs:{for:"upLoad"}},[i("img",{staticClass:"avatar",attrs:{src:"null"!=t.avatar?t.avatar:t.imgDefault,alt:""}})]),t._v(" "),i("input",{attrs:{id:"upLoad",type:"file"},on:{change:t.upLoad}}),t._v(" "),i("p",{staticClass:"tips"},[t._v("tips:请上传2M以内JPG/PNG格式的图片，比例最好1:1")])])],1),t._v(" "),i("el-row",{staticClass:"row "},[i("el-col",{staticClass:"bar",attrs:{offset:6,xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Save")]),t._v(" "),i("el-button",{on:{click:t.signOut}},[t._v("Sign Out")])],1)],1)],1)])])},staticRenderFns:[]};var r=i("VU/8")(o,l,!1,function(t){i("kcXO")},"data-v-729bbf8c",null);e.default=r.exports},"9APv":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("nwBL"),s={mixins:[a.c],data:function(){return{title:"",date:"",file:"",pic:"",gist:""}},beforeCreate:function(){},mounted:function(){var t=this;this.$route.params.id&&this.$axios.get(a.h+"demoDetail/"+this.$route.params.id).then(function(e){var i=e.data;t.title=i.title,t.date=i.date,t.file=i.file,t.pic=i.pic,t.gist=i.gist})},methods:{getDate:function(){var t,e=void 0,i=void 0,a=void 0,s=void 0,n=void 0,o=void 0;t=(e=new Date).getFullYear(),i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.date=t+"-"+i+"-"+a+" "+s+":"+n+":"+o},saveArticle:function(){var t=this,e=this;if(0!==this.title.length)if(0!==this.pic.length)if(0!==this.file.length)if(0!==this.gist.length)if(this.$route.params.id){var i={_id:this.$route.params.id,title:this.title,date:this.date,file:this.file,pic:this.pic,gist:this.gist};this.$axios.post(a.h+"admin/updateDemo",{demoInformation:i}).then(function(t){e.$message({message:"更新文章成功",type:"success"})})}else{this.getDate();var s={title:this.title,date:this.date,file:this.file,pic:this.pic,gist:this.gist};this.$axios.post(a.h+"admin/saveDemo",{demoInformation:s}).then(function(i){1==i.data.status&&(e.$message({message:"发表demo成功",type:"success"}),t.refreshArticleList())})}else this.$notify({title:"提醒",message:"请输入简介",type:"warning"});else this.$notify({title:"提醒",message:"请输入file",type:"warning"});else this.$notify({title:"提醒",message:"请输入pic",type:"warning"});else this.$notify({title:"提醒",message:"请输入标题",type:"warning"})},refreshArticleList:function(){this.$router.push({name:"demoList"})},goBack:function(){this.$router.go(-1)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit_wrap"},[i("div",{staticClass:"return_button"},[i("el-button",{attrs:{icon:"arrow-left"},on:{click:t.goBack}},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("标题")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("路径")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入路径"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("图片")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入图片路径"},model:{value:t.pic,callback:function(e){t.pic=e},expression:"pic"}}),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("简介")]),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入简介"},model:{value:t.gist,callback:function(e){t.gist=e},expression:"gist"}}),t._v(" "),i("div",{staticClass:"save_button"},[i("el-button",{attrs:{type:"primary"},on:{click:t.saveArticle}},[t._v("保存")])],1)],1)},staticRenderFns:[]};var o=i("VU/8")(s,n,!1,function(t){i("FBLa")},"data-v-4c82acbd",null);e.default=o.exports},BXiv:function(t,e){},FBLa:function(t,e){},Okzn:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("nwBL"),s={mixins:[a.c],data:function(){return{articleList:[],demoList:[],type:"article"}},beforeCreate:function(){},mounted:function(){var t=this;this.$axios.post(a.h+"articleList").then(function(e){e&&(t.articleList=e.data.reverse())}),this.$axios.post(a.h+"demoList").then(function(e){e&&(t.demoList=e.data.reverse())})},methods:{toHome:function(){this.$router.replace({name:"home"})},toggle:function(){this.type="article"==this.type?"demo":"article"},handleAdd:function(){this.$router.push("/admin/edit")},handleAdd2:function(){this.$router.push("/admin/editt")},handleLook:function(t,e){var i=e._id;window.open("#/detail/"+i)},handleLook2:function(t,e){window.open("#/demo/")},handleEdit:function(t,e){var i=e._id;this.$router.push("/admin/edit/"+i)},handleEdit2:function(t,e){var i=e._id;this.$router.push("/admin/editt/"+i)},handleDelete:function(t,e){var i=this,s=this,n=e._id;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$axios.post(a.h+"admin/deleteArticle",{_id:n}).then(function(t){1==t.data.status&&(s.$message({type:"success",message:"删除成功!"}),s.fetchData())})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},handleDelete2:function(t,e){var i=this,s=this,n=e._id;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$axios.post(a.h+"admin/deleteDemo",{_id:n}).then(function(t){1==t.data.status&&(s.$message({type:"success",message:"删除成功!"}),s.fetchData2())})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},fetchData:function(){var t=this;this.$axios.post(a.h+"articleList").then(function(e){e&&(t.articleList=e.data.reverse())})},fetchData2:function(){var t=this;this.$axios.post(a.h+"demoList").then(function(e){e&&(t.demoList=e.data.reverse())})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("a",{staticClass:"toHome",attrs:{href:"javascript:;"},on:{click:t.toHome}},[t._v("返回首页")]),t._v(" "),i("h1",{staticClass:"title"},[t._v(t._s("article"==t.type?"文章列表":"demo列表"))]),t._v(" "),i("div",{staticClass:"tab-box"},[i("el-button-group",[i("el-button",{attrs:{type:"article"==t.type?"primary":"info"},on:{click:t.toggle}},[i("i",{staticClass:"iconfont icon-archives"}),t._v(" Article")]),t._v(" "),i("el-button",{attrs:{type:"demo"==t.type?"primary":"info"},on:{click:t.toggle}},[i("i",{staticClass:"iconfont icon-play"}),t._v(" Demo")])],1)],1),t._v(" "),"article"==t.type?i("div",[i("el-button",{staticClass:"btn-add",on:{click:function(e){return t.handleAdd()}}},[t._v("新增+")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articleList,"header-align":"right",border:"",stripe:""}},[i("el-table-column",{attrs:{label:"标题",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.title))])]}}],null,!1,1808518502)}),t._v(" "),i("el-table-column",{attrs:{label:"日期",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-time"}),t._v(" "),i("span",[t._v(t._s(e.row.date))])]}}],null,!1,1426135327)}),t._v(" "),i("el-table-column",{attrs:{label:"摘要",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.gist.slice(0,30)))])]}}],null,!1,137726351)}),t._v(" "),i("el-table-column",{attrs:{label:"分类",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.category.length?i("span",[t._v("未分类")]):t._l(e.row.category,function(e){return i("el-tag",{key:e.id,staticClass:"tag_margin",attrs:{type:"primary"}},[t._v(t._s(e))])})]}}],null,!1,1322246024)}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return t.handleLook(e.$index,e.row)}}},[t._v("查看")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}],null,!1,1315132351)})],1)],1):t._e(),t._v(" "),"demo"==t.type?i("div",[i("el-button",{staticClass:"btn-add",on:{click:function(e){return t.handleAdd2()}}},[t._v("新增+")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.demoList,"header-align":"right",border:"",stripe:""}},[i("el-table-column",{attrs:{label:"标题",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.title))])]}}],null,!1,1808518502)}),t._v(" "),i("el-table-column",{attrs:{label:"日期",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("i",{staticClass:"el-icon-time"}),t._v(" "),i("span",[t._v(t._s(e.row.date))])]}}],null,!1,1426135327)}),t._v(" "),i("el-table-column",{attrs:{label:"file",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.file))])]}}],null,!1,226863200)}),t._v(" "),i("el-table-column",{attrs:{label:"图片",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.pic))])]}}],null,!1,3955531068)}),t._v(" "),i("el-table-column",{attrs:{label:"摘要",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.gist.slice(0,30)))])]}}],null,!1,137726351)}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return t.handleLook2(e.$index,e.row)}}},[t._v("查看")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return t.handleEdit2(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.handleDelete2(e.$index,e.row)}}},[t._v("删除")])]}}],null,!1,3571786957)})],1)],1):t._e()])},staticRenderFns:[]};var o=i("VU/8")(s,n,!1,function(t){i("WFNs"),i("gJF+")},"data-v-64449479",null);e.default=o.exports},WFNs:function(t,e){},"gJF+":function(t,e){},hNhp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("nwBL"),s={mixins:[a.c],data:function(){return{title:"",img_file:[],date:"",category:[],gist:"",content:"",categorys:["JavaScript","ES6","jQuery","css","ajax","Vue-router","Vuex","http","https","websocket","apache","Vue","react","react-nactive","axios","node","mongo","CentOS","webpack","学习笔记","Echarts","MySQL","Less","Linux","three.js","d3.js","php","Electron","easyUI","ECharts","wx","HBuilder"]}},beforeCreate:function(){},mounted:function(){var t=this;this.$route.params.id&&this.$axios.get(a.h+"articleDetail/"+this.$route.params.id).then(function(e){var i=e.data;t.title=i.title,t.date=i.date,t.content=i.content,t.gist=i.gist,t.category=i.category})},methods:{$imgAdd:function(t,e){var i=this;console.log(t),console.log(e),this.$axios.post(a.h+"uploadImg",{data:e.miniurl}).then(function(e){i.$refs.md.$img2Url(t,e.data.data.toString())}).catch(function(t){console.log(t)})},getDate:function(){var t,e=void 0,i=void 0,a=void 0,s=void 0,n=void 0,o=void 0;t=(e=new Date).getFullYear(),i=e.getMonth()+1,a=e.getDate(),s=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o),this.date=t+"-"+i+"-"+a+" "+s+":"+n+":"+o},saveArticle:function(){var t=this,e=this;if(0!==this.title.length)if(0!==this.content.length)if(0!==this.gist.length)if(this.$route.params.id){var i={_id:this.$route.params.id,title:this.title,date:this.date,category:this.category,gist:this.gist,content:this.content};this.$axios.post(a.h+"admin/updateArticle",{articleInformation:i}).then(function(t){e.$message({message:"更新文章成功",type:"success"})})}else{this.getDate();var s={title:this.title,date:this.date,category:this.category,gist:this.gist,content:this.content};this.$axios.post(a.h+"admin/saveArticle",{articleInformation:s}).then(function(i){1==i.data.status&&(e.$message({message:"发表文章成功",type:"success"}),t.refreshArticleList())})}else this.$notify({title:"提醒",message:"请输入简介",type:"warning"});else this.$notify({title:"提醒",message:"请输入内容",type:"warning"});else this.$notify({title:"提醒",message:"请输入标题",type:"warning"})},refreshArticleList:function(){this.$router.push({name:"artList"})},goBack:function(){this.$router.go(-1)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"edit_wrap"},[i("div",{staticClass:"return_button"},[i("el-button",{attrs:{icon:"arrow-left"},on:{click:t.goBack}},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("标题")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),i("div",{staticClass:"category"},[i("div",{staticClass:"edit_head"},[t._v("分类")]),t._v(" "),i("el-checkbox-group",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categorys,function(e){return i("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("简介")]),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入简介"},model:{value:t.gist,callback:function(e){t.gist=e},expression:"gist"}}),t._v(" "),i("div",{staticClass:"edit_head"},[t._v("内容 (Markdown编辑器)")]),t._v(" "),i("div",{staticClass:"markdown"},[i("mavon-editor",{ref:"md",on:{imgAdd:t.$imgAdd},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),i("div",{staticClass:"save_button"},[i("el-button",{attrs:{type:"primary"},on:{click:t.saveArticle}},[t._v("保存")])],1)],1)},staticRenderFns:[]};var o=i("VU/8")(s,n,!1,function(t){i("BXiv")},"data-v-d8de9804",null);e.default=o.exports},kcXO:function(t,e){},oDt3:function(t,e,i){t.exports=i.p+"static/img/avatar.13a0f25.png"}});
//# sourceMappingURL=3.8d96a02e5f16129e0ce7.js.map